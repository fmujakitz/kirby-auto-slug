(function () {function b(t,e){return f(t)||d(t,e)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],n=!0,s=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(u){s=!0,a=u}finally{try{n||null==o.return||o.return()}finally{if(s)throw a}}return r}}function f(t){if(Array.isArray(t))return t}var a={props:{label:String,value:String,uses:Array,shows:{type:Array,default:[]},updateTitle:Boolean,updateSlug:Boolean},methods:{getInfo:function(t){var e=this,r=b(["originals","changes"].map(function(t){return e.$store.getters["content/"+t]()}),2),n=r[0],s=r[1];return t.map(function(t){return void 0!==s[t]?s[t]:n[t]}).filter(Boolean).join(" ")},getUses:function(){return this.getInfo(this.uses)},getShows:function(){return this.getInfo(this.shows)||this.getUses()},generate:function(){return this.$helper.slug(this.getUses())},save:function(t){this.$emit("input",t)},exchange:function(){var t=this,e=this.$store.getters["content/id"](),r={path:e.replace("pages/",""),current:e.split("/").reverse()[0],next:this.value};r.current!==r.next?this.$api.pages.slug(r.path,r.next).then(function(n){var s=t.getShows();t.updateTitle&&n.title!==s&&t.$api.pages.title(n.id,s);var a="pages/"+n.id;t.$store.dispatch("content/move",[e,a]);var i={message:":)",event:"page.changeSlug"},o=t.$store.state.languages.current,u=t.$route.params.path,c=u&&r.path===u.replace(/\+/g,"/"),h=!o||!0===o.default;c&&h&&(i.route=t.$api.pages.link(n.id),delete i.event),t.success(i)}):this.$store.dispatch("notification/success",":)")},success:function(t){var e=t.route,r=t.message,n=t.event;e&&this.$router.push(e),r&&this.$store.dispatch("notification/success",r),n&&this.$events.$emit(n),this.$emit("success")}},mounted:function(){var t=this.value,e=this.generate();t===e?this.updateSlug&&this.exchange():this.save(e)},computed:{hasChanges:function(){return this.generate()}},watch:{hasChanges:function(t,e){e!==t&&this.save(t)}},created:function(){this.$events.$on("model.update",this.exchange)},destroyed:function(){this.$events.$off("model.update")}};if(typeof a==="function"){a=a.options}Object.assign(a,function(){var render=function(){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c("k-field",{attrs:{"name":"input-field","label":_vm.label}},[_c("k-input",{ref:"textarea",attrs:{"name":"text","type":"text","theme":"field","value":_vm.value,"buttons":false,"placeholder":_vm.placeholder,"disabled":true}})],1)};var staticRenderFns=[];return{render:render,staticRenderFns:staticRenderFns,_compiled:true,_scopeId:null,functional:undefined}}());panel.plugin("fmujakitz/auto-slug",{fields:{"auto-slug":a}});})();